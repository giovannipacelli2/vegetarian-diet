"use strict";(self.webpackChunkproject=self.webpackChunkproject||[]).push([[179],{60:function(e,t,n){var r=n(294),a=n(745),i=(n(290),n(190),n(335)),c=(n(398),n.p+"bf18810488750d379822.jpg"),l=n(998),o=(n(330),function(e){var t=e.message;return r.createElement("div",{className:"error-msg-container"},r.createElement("h2",{className:"message"},"Something gone wrong:"),r.createElement("h2",{className:"message clr-red"},t))});o.defaultProps={message:"Unknown error"};var s=o,u=function(e){var t=e.title,n=e.classlist;return r.createElement("section",{className:"".concat(n)},r.createElement("h2",{className:"title"},t),r.createElement("div",{className:"line"}))};u.defaultProps={title:"Title",classlist:""};var m=u,f=function(e){var t=e.cssClass,n=e.img,a=e.children,i={backgroundImage:"url(".concat(n,")")};return r.createElement("div",{style:i,className:t},a)};f.defaultProps={cssClass:""};var d=f,p=n(655),v=(n(181),function(e){var t=e.title,n=e.image,a=e.id,c=(0,i.s0)();return r.createElement("div",{className:"img-link"},r.createElement("img",{src:n,alt:t,onClick:function(){c("/SingleRecipe/".concat(a))}}),r.createElement("button",{type:"button",className:"btn btn-green img-btn"},r.createElement(p.rU,{className:"none-link",to:"/SingleRecipe/".concat(a)},"More")))}),h=(n(333),function(){return r.createElement("div",{className:"loading-container"},r.createElement("div",{className:"lds-dual-ring"}))});function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}var g=function(e){var t=e.query,n=t.isLoading,a=t.isError,i=t.error,o=(0,l.v9)((function(e){return e.appReducer.topRated}));(0,l.I0)();return n?r.createElement(h,null):a?r.createElement(s,{message:i.message}):r.createElement("section",{className:"home"},r.createElement(d,{cssClass:"hero home-img",img:c}),r.createElement(m,{title:"Top rated",classlist:"header-section header-100"}),r.createElement("section",{className:"img-container"},o.map((function(e,t){return r.createElement(v,y({key:t},e))}))))},b=n(477),E=n(861),S=function(e){var t={method:"GET",headers:{"Content-type":"application/json","x-api-key":"8e8af5793f25450b92936e5b33bebbc1"},params:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}};return E.Z.get(e,t)},N=(n(836),n(633)),O=(0,N.oM)({name:"appReducer",initialState:{data:[],topRated:[],searchedData:[],isOpenSidebar:!1,searched:"",filter:{lowCarb:{title:"low carbs",query:"maxCarbs",queryValue:30,value:!1},lowFat:{title:"low fat",query:"maxFat",queryValue:10,value:!1},dairyFree:{title:"Lactose free",query:"intolerances",queryValue:"Dairy",value:!1},glutenFree:{title:"Gluten free",query:"intolerances",queryValue:"Gluten",value:!1}},desktop:!1},reducers:{setData:function(e,t){e.data=t.payload},setSidebar:function(e){e.isOpenSidebar=!e.isOpenSidebar},setFilter:function(e,t){e.filter[t.payload].value=!e.filter[t.payload].value},setSearched:function(e,t){e.searched=String(t.payload)},setSearchedData:function(e,t){e.searchedData=t.payload},setDevice:function(e,t){e.desktop=t.payload},setTopRated:function(e,t){e.topRated=t.payload}}}),j=O.reducer,w=O.actions,C=w.setData,k=w.setSidebar,F=w.setFilter,I=w.setSearched,A=w.setSearchedData,x=(w.setDevice,w.setTopRated);function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,c,l=[],o=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;o=!1}else for(;!(o=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{if(!o&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var q=function(){var e=P((0,r.useState)({}),2),t=e[0],n=e[1],a=(0,l.I0)(),c=(0,i.UO)().id,o="https://api.spoonacular.com/recipes/".concat(c,"/information"),u={includeNutrition:!1},f=(0,b.a)({queryKey:["fetch-recipe",c],queryFn:function(){return S(o,u)}}),p=f.isLoading,v=f.isFetched,y=f.isError,g=f.error;(0,r.useEffect)((function(){a(I(""))}),[]),(0,r.useEffect)((function(){if(v&&!y){var e,t={id:(r=null===(e=f.data)||void 0===e?void 0:e.data).id,title:r.title,image:r.image,time:r.readyInMinutes,servings:r.servings,glutenFree:r.glutenFree,lactoseFree:r.dairyFree,veryHealthy:r.veryHealthy,ingredients:r.extendedIngredients.map((function(e){return{name:e.name,img:!!e.image&&"".concat("https://spoonacular.com/cdn/ingredients_100x100/").concat(e.image)}})),steps:r.analyzedInstructions[0].steps.map((function(e){return{number:e.number,instruction:e.step,ingredients:!!e.ingredients&&e.ingredients.map((function(e){return e.name}))}}))};n(t)}var r;return function(){n({})}}),[v]);var E,N,O,j,w,C;return p?r.createElement(h,null):y?r.createElement(s,{message:g.message}):"{}"===JSON.stringify(t)?r.createElement("h2",{className:"message"},"Nothing to see"):r.createElement("section",{className:"single-page"},r.createElement("section",{className:"section-top"},r.createElement("h2",{className:"title"}," ",t.title," "),r.createElement(d,{img:t.image,cssClass:"hero hero-recipe"})),r.createElement("section",{className:"recipe-container"},r.createElement("section",{className:"info-recipe"},r.createElement(m,{title:"Info recipe",classlist:"header-sections"}),(E=t.time,N=t.servings,O=t.veryHealthy,j=t.glutenFree,w=t.lactoseFree,C=t.steps.length,r.createElement("ul",{className:"container-list"},r.createElement("li",null,"Ready in ".concat(E," minutes")),r.createElement("li",null,"".concat(N," servings")),r.createElement("li",null,"Very healty: ".concat(O?"yes":"no")),r.createElement("li",null,"Gluten free: ".concat(j?"yes":"no")),r.createElement("li",null,"Lactose free: ".concat(w?"yes":"no")),r.createElement("li",null,"Total steps: ".concat(C))))),r.createElement("section",{className:"info-recipe"},r.createElement(m,{title:"Ingredients list:",classlist:"header-sections"}),r.createElement("ul",{className:"container-list"},t.ingredients.map((function(e,t){return r.createElement("li",{key:t},e.name)})))),r.createElement("section",{className:"info-recipe"},r.createElement(m,{title:"Instructions",classlist:"header-sections"}),r.createElement("article",{className:"container-step"},t.steps.map((function(e){var t=e.number,n=e.instruction;return r.createElement("div",{key:t,className:"single-step"},r.createElement("ul",null,r.createElement("li",null,r.createElement("h3",{className:"title"},"Step ".concat(t,":")))),r.createElement("p",{className:"description"},n))}))))))};n(456);function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D.apply(this,arguments)}var T=function(e){var t=e.data;return 0===t.length?r.createElement("h2",{className:"center-message"},"Nothing to see"):r.createElement("section",{className:"result-container"},t.map((function(e){var t=e.id,n=e.title,a={id:t,title:n,image:e.image};return r.createElement("div",{key:t,className:"single-result"},r.createElement("h2",{className:"title"},n),r.createElement(v,D({},a,{className:"img-box"})))})))},V=(n(635),function(){return r.createElement(d,{cssClass:"hero hero-error",img:c},r.createElement("div",{className:"message-container"},r.createElement("h2",{className:"message"},"Page not found"),r.createElement("button",{className:"btn btn-green"},r.createElement(p.rU,{to:"/",className:"none-link"},"Torna alla home"))))}),L=n(868);n(782),n(41);function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,c,l=[],o=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;o=!1}else for(;!(o=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{if(!o&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var H=function(){var e=(0,i.s0)(),t=M((0,r.useState)(""),2),n=t[0],a=t[1],c=M((0,r.useState)({}),2),o=c[0],s=c[1],u=(0,l.v9)((function(e){return e.appReducer.data})),m=(0,l.v9)((function(e){return e.appReducer.searched})),f=(0,l.I0)();(0,r.useEffect)((function(){if(u){var e=u.filter((function(e){return e.title.toLowerCase().includes(m)}));s(e),f(A(e))}}),[u]);var d=function(e){var t=e.toLowerCase();if(a(t),u){var n=u.filter((function(e){return e.title.toLowerCase().includes(t)}));s(n)}},p=function(e){var t=e.target.closest("li");t&&d(t.textContent)};return r.createElement("form",{className:"search",onSubmit:function(t){!function(t){t.preventDefault();var n=t.target.textSearch,r=n.value;if(""!==r)if(f(A(o)),f(I(r)),a(""),n.blur(),1!==o.length)e("/result");else{var i=o[0].id;e("/SingleRecipe/".concat(i))}}(t)}},r.createElement("input",{type:"text",autoComplete:"off",placeholder:"Search",id:"textSearch",name:"textSearch",onChange:function(e){d(e.target.value)},value:n}),n&&0!==o.length&&r.createElement("div",{className:"dropmenu"},r.createElement("ul",{className:"droplist"},o.map((function(e,t){return r.createElement("li",{key:t,onClick:p},e.title)})))),r.createElement("button",{type:"submit",className:"icon-btn icon-search"},r.createElement(L.RB5,{className:"icon"})))},W=function(e){var t=e.setSidebar;return r.createElement("header",{className:"navbar"},r.createElement(p.rU,{to:"/",className:"none-link"},r.createElement("h2",{className:"logo"},"VegetarianWorld")),r.createElement(H,null),r.createElement("button",{className:"icon-btn",onClick:t},r.createElement(L.qTj,{className:"menu"})))};W.defaultProps={setSidebar:function(){}};var G=W,z=(n(976),function(e){var t=e.filter,n=e.setFilter,a=e.setSidebar,i=e.isOpenSidebar,c=function(e){var t=e.target.name;n(t)};return r.createElement("section",{className:"".concat(i?"sidebar ":"sidebar to-right")},r.createElement("header",{className:"sidebar-header"},r.createElement("button",{type:"button",className:"btn-close",onClick:a},r.createElement(L.oHP,{className:"icon none-link"})),r.createElement("h2",null,"Filter")),r.createElement("section",{className:"filter-container"},r.createElement("div",{className:"line"}),r.createElement("div",{className:"all-filters"},function(){var e=[],n=0;for(var a in t){var i=a,l=t[a].value,o=t[a].title,s=r.createElement("div",{key:n,className:"filter"},r.createElement("label",{htmlFor:i},o),r.createElement("input",{type:"checkbox",name:i,id:i,onChange:c,checked:l}));n++,e.push(s)}return e}())))});function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==B(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===B(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,c,l=[],o=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;o=!1}else for(;!(o=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{if(!o&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(s)throw a}}return l}}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var X=function(){var e=(0,l.v9)((function(e){return e.appReducer.data})),t=(0,l.v9)((function(e){return e.appReducer.searchedData})),n=(0,l.v9)((function(e){return e.appReducer.filter})),a=(0,l.v9)((function(e){return e.appReducer.isOpenSidebar})),c=(0,l.I0)(),o=J((0,r.useState)({diet:"Vegetarian"}),2),s=o[0],u=o[1];(0,r.useEffect)((function(){var e={diet:"Vegetarian"};for(var t in n)if(n[t].value){var r=n[t].query,a=n[t].queryValue;e[r]?e[r]+=", ".concat(a):e=$($({},e),{},Z({},r,a))}u(e)}),[n]);var m=(0,b.a)({queryKey:["fetch-repo",s],queryFn:function(){return function(e){return S("https://api.spoonacular.com/recipes/complexSearch",e)}(s)}});(0,r.useEffect)((function(){var e;m.isFetched&&c(C(null===(e=m.data)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.results))}),[m.isFetched,m.data]),(0,r.useEffect)((function(){m.isError&&c(C([]))}),[m.isError]),(0,r.useEffect)((function(){m.refetch()}),[s]),(0,r.useEffect)((function(){if(e){var t=e.length-1,n=new Set;if(t)for(;n.size<6;){var r,a=Math.round(Math.random()*t);if(null===(r=e[a])||void 0===r||!r.image)return;n.add(a)}var i,l=[],o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw i}}}}(n);try{for(o.s();!(i=o.n()).done;){var s=i.value;l.push(e[s])}}catch(e){o.e(e)}finally{o.f()}c(x(l))}}),[e]);var f={filter:n,setFilter:function(e){c(F(e))},isOpenSidebar:a,setSidebar:function(){c(k())}};return r.createElement(r.Fragment,null,r.createElement(G,{setSidebar:function(){c(k())}}),r.createElement(z,f),r.createElement(i.Z5,null,r.createElement(i.AW,{exact:!0,path:"/",element:r.createElement(g,{query:m})}),r.createElement(i.AW,{exact:!0,path:"/SingleRecipe/:id",element:r.createElement(q,null)}),r.createElement(i.AW,{exact:!0,path:"/result",element:r.createElement(T,{data:t})}),r.createElement(i.AW,{path:"*",element:r.createElement(V,null)})))},Y=function(e){e&&e instanceof Function&&n.e(131).then(n.bind(n,131)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))},ee=(0,N.xC)({reducer:{appReducer:j}}),te=n(488),ne=n(945),re=n(235),ae=new te.S;a.createRoot(document.getElementById("root")).render(r.createElement(r.StrictMode,null,r.createElement(ne.aH,{client:ae},r.createElement(l.zt,{store:ee},r.createElement(p.VK,null,r.createElement(X,null))),r.createElement(re.t,{isInitialOpen:!1,position:"bottom-right"})))),Y()},190:function(e,t,n){var r=n(783)(e.id,{locals:!1});e.hot.dispose(r),e.hot.accept(void 0,r)},330:function(e,t,n){var r=n(783)(e.id,{locals:!1});e.hot.dispose(r),e.hot.accept(void 0,r)},181:function(e,t,n){var r=n(783)(e.id,{locals:!1});e.hot.dispose(r),e.hot.accept(void 0,r)},333:function(e,t,n){var r=n(783)(e.id,{locals:!1});e.hot.dispose(r),e.hot.accept(void 0,r)},782:function(e,t,n){var r=n(783)(e.id,{locals:!1});e.hot.dispose(r),e.hot.accept(void 0,r)},41:function(e,t,n){var r=n(783)(e.id,{locals:!1});e.hot.dispose(r),e.hot.accept(void 0,r)},976:function(e,t,n){var r=n(783)(e.id,{locals:!1});e.hot.dispose(r),e.hot.accept(void 0,r)},635:function(e,t,n){var r=n(783)(e.id,{locals:!1});e.hot.dispose(r),e.hot.accept(void 0,r)},398:function(e,t,n){var r=n(783)(e.id,{locals:!1});e.hot.dispose(r),e.hot.accept(void 0,r)},456:function(e,t,n){var r=n(783)(e.id,{locals:!1});e.hot.dispose(r),e.hot.accept(void 0,r)},836:function(e,t,n){var r=n(783)(e.id,{locals:!1});e.hot.dispose(r),e.hot.accept(void 0,r)},290:function(e,t,n){var r=n(783)(e.id,{locals:!1});e.hot.dispose(r),e.hot.accept(void 0,r)}},function(e){e.O(0,[511],(function(){return t=60,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=main.91d0abc8d8fdbe35a94c.js.map